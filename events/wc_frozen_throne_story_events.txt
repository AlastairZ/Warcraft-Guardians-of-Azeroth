namespace = WCTFT

### Plaguelands Civil War ###
# Ping event
province_event = {
	id = WCTFT.99

	is_triggered_only = yes
	hide_window = yes

	trigger = {
		start_date = 605.6.6
		NOT = { has_global_flag = plaguelands_civil_war }
	}

	immediate = {
		set_global_flag = plaguelands_civil_war
		d_lordamere = {
			holder_scope = { narrative_event = { id = WCTFT.100 } }
		}
	}
}

# Resistance: The Fate of Lordaeron
narrative_event = {
	id = WCTFT.100
	title = EVTTITLE_WCTFT_100
	desc = EVTDESC_WCTFT_100
	picture = GFX_evt_scourge_march
	border = GFX_event_narrative_frame_war

	is_triggered_only = yes

	major = yes
	major_trigger = {
		ai = no
	}
	show_root = yes
	
	immediate = {
		ROOT = {
			save_event_target_as = target_garithos
		}
	}

	option = { #To the strongest!
		trigger = { character = ROOT }
		k_lordaeron = {
			if = {
				limit = { has_holder = yes }
				holder_scope = {
					set_character_flag = event_war_exception_flag
					reverse_unsafe_war = {
						target = ROOT
						casus_belli = invasion
						thirdparty_title = PREV
					}
				}
			}
		}
		prestige = 500
		piety = -250
		name = EVTOPTA_WCTFT_100
		ai_chance = {
			factor = 0
			modifier = {
				factor = 2
				trait = ambitious
			}
		}
	}

	option = { #To the rightful heir!
		trigger = { character = ROOT }
		k_lordaeron = {
			if = {
				limit = { has_holder = yes }
				holder_scope = {
					set_character_flag = event_war_exception_flag
					reverse_unsafe_war = {
						target = c_60004
						casus_belli = other_claim
						thirdparty = ROOT
						thirdparty_title = PREV
					}
				}
			}
		}
		c_60004 = {
			save_event_target_as = target_calia
		}
		prestige = 250
		name = EVTOPTB_WCTFT_100
		ai_chance = {
			factor = 1
		}
	}
	
	option = { #Scourge reacts
		trigger = {
			NOT = { character = ROOT }
			religion = death_god
		}
		name = EVTOPTC_WCTFT_100
	}
	
	option = { #Forsaken react
		trigger = {
			NOT = { character = ROOT }
			religion = forsaken_cult
		}
		name = EVTOPTD_WCTFT_100
	}
	
	option = { #Humans react
		trigger = {
			NOT = { 
				character = ROOT
				religion = death_god
				religion = forsaken_cult
			}
			culture_group = human_group
		}
		name = EVTOPTE_WCTFT_100
	}
	
	option = { #Legion reacts
		trigger = {
			NOT = { character = ROOT }
			religion = burning_legion_religion
		}
		name = EVTOPTF_WCTFT_100
	}
	
	option = { #Who cares
		trigger = {
			NOT = { 
				character = ROOT
				religion = death_god
				religion = forsaken_cult
				religion = burning_legion_religion
				culture_group = human_group
			}
		}
		name = EVTOPTG_WCTFT_100
	}

# Resistance: Calia triumphant
narrative_event = {
	id = WCTFT.110
	title = EVTTITLE_WCTFT_110
	desc = EVTDESC_WCTFT_110
	picture = GFX_evt_stormwind_champion
	border = GFX_event_narrative_frame_war

	is_triggered_only = yes
	
	major = yes
	major_trigger = {
		ai = no
	}
	show_root = yes

	immediate = {
		d_lordamere = {
			set_defacto_liege = event_target:target_calia
		}
		event_target:target_calia = {
			give_nickname = nick_the_deliverer
		}
		event_target:target_garithos = {
			give_nickname = nick_the_liberator
			#Garithos gains liberator bloodline
		}
		clr_global_flag = plaguelands_civil_war
	}

	option = { #A new hope for Lordaeron
		trigger = {
			religion = holy_light
		}
		name = EVTOPTA_WCTFT_110
	}
	
	option = { #She won't rule for long
		trigger = {
			OR = {
				religion = death_god
				religion = forsaken_cult
				religion = burning_legion_religion
			}
		}
		name = EVTOPTB_WCTFT_110
	}

	option = { #Pah!
		trigger = {
			NOT = { 
				religion = death_god
				religion = forsaken_cult
				religion = burning_legion_religion
				religion = holy_light
			}
		}
		name = EVTOPTC_WCTFT_110
	}
}

### Old Hatreds ###