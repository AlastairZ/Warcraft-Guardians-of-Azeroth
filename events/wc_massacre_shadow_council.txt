namespace = WCMSC

#Becoming Warchief
narrative_event = {
	id = WCMSC.1
	title = EVTTITLE_WCMSC_1
	picture = GFX_evt_orgrim_warchief
	desc =  EVTDESC_WCMSC_1
	border = GFX_event_narrative_frame_war

	trigger = {
		is_adult = yes
		is_incapable = no
		prisoner = no

		has_landed_title = e_horde
		culture_group = orc_group
		religion = orcish_shamanism
		true_religion = orcish_shamanism
		trait = ambitious
		
		NOT = { has_character_flag = new_warchief_old_horde }
	}
	
	immediate = {
		set_character_flag = new_warchief_old_horde
	}
	
	option = {
		name = "EVTOPTA_WCMSC.1"
		prestige = 100
		hidden_tooltip = {
			any_realm_character = {
				limit = {
					NOT = { trait = incapable }
					prisoner = no
					society_member_of = shadow_council
				}
				set_character_flag = shadow_council_hiding
				character_event = { id = WCMSC.2 }
			}
		}
	}
	
	option = {
		name = "EVTOPTB_WCMSC.1"
		trigger = {
			NOT = { character = ROOT }
			culture_group = orc_group
			culture_group = ogre_group
			NOT = { society_member_of = shadow_council }
		}
	}

}

#Hiding Shadow Council Member
character_event = {
	id = WCMSC.2
	picture = GFX_evt_orgrim_warchief2
	desc =  EVTDESC_WCMSC_2
	border = GFX_event_normal_frame_war

	is_triggered_only = yes
	
	trigger = {
		is_adult = yes
		is_incapable = no
		prisoner = no
		society_member_of = shadow_council
		has_character_flag = shadow_council_hiding
	}
	
	option = {
		name = "EVTOPTA_WCMSC.2"
		prestige = -100
		add_trait = craven
		add_trait = in_hiding
	}
	
	option = {
		name = "EVTOPTB_WCMSC.2"
		tooltip_info = brave
		trigger = {
			trait = brave
		}
		prestige = 100
		clear_character_flag = shadow_council_hiding
	}

}

#Start massacre or not
narrative_event = {
	id = WCMSC.100
	title = EVTTITLE_WCMSC_100
	desc = EVTDESC_WCMSC_100
	picture = GFX_evt_orc_glory
	border = GFX_event_narrative_frame_war

	is_triggered_only = yes
	
	trigger = {
		is_adult = yes
		is_incapable = no
		has_landed_title = e_horde
	}

	option = {
		name = EVTOPTA_WCMSC.100
		custom_tooltip = { text = EVTOPTA_WCMSC_1_tooltip }
		prestige = 50
		#Start tracking
		character_event = {
						id = WCMSC.101
						days = 14
					}
	}

	option = {
		name = EVTOPTB_WCMSC.100
		custom_tooltip = { text = EVTOPTB_WCMSC_1_tooltip }
		prestige = 10
		#Shadow councilor are cowards
		hidden_tooltip = {
		any_realm_character = {
				limit = {
					prisoner = no
					society_member_of = shadow_council
					has_character_flag = shadow_council_hiding
				}
				clear_character_flag = shadow_council_hiding
			}
	}
	}
}

#Capture Garona
character_event = {
	id = WCMSC.101
	desc = EVTDESC_WCMSC_101
	picture = GFX_evt_spymaster
	border = GFX_event_normal_frame_war

	is_triggered_only = yes
	
	trigger = {
		is_adult = yes
		is_incapable = no
		has_landed_title = e_horde
	}

	option = {
		name = EVTOPTA_WCMSC.101
		any_society_member = {
			limit = {
					society_rank = 4
					society_member_of = shadow_council
				}
				job_spymaster = {
					imprison = FROM
					hidden_tooltip = {
						random_list = {
						#Normal torture options
							10 = { 
								random_list = {
									10 = {
										# Racks
										FROM = { character_event = { id = RIP.20001 } }
										character_event = { id = RIP.20002 } 
								
									}
			
							10 = {
								# Whipping
								FROM = { character_event = { id = RIP.20003 } }
								character_event = { id = RIP.20004 } 
			
							}
			
							10 = {
								# Rats
								FROM = { character_event = { id = RIP.20005} }
								character_event = { id = RIP.20006 } 
							}
						}
						hidden_tooltip = {
			
							opinion = {
								modifier = opinion_tortured_me
								who = FROM
							}
			
							mother = {
								opinion = {
									modifier = opinion_tortured_close_kin
									who = FROM
								}
							}
							father = {
								opinion = {
									modifier = opinion_tortured_close_kin
									who = FROM
								}
							}
							spouse = {
								opinion = {
									modifier = opinion_tortured_close_kin
									who = FROM
								}
							}
							any_child = {
								opinion = {
									modifier = opinion_tortured_close_kin
									who = FROM
								}
							}
							if = {
								limit = {
									FROM = {
										NOT = { dynasty = ROOT }
										NOT = { sibling = ROOT }
									}
								}
								any_sibling = {
									opinion = {
										modifier = opinion_tortured_close_kin
										who = FROM
									}
								}
								any_dynasty_member = {
									opinion = {
										modifier = opinion_tortured_family
										who = FROM
									}
								}
							}
						}
					}
			
					20 = {
						# Lunatic option
						modifier = {
							factor = 0
							NOT = { FROM = { trait = lunatic } }
						}
			
						FROM = { character_event = { id = RIP.20007 } }
						character_event = { id = RIP.20008 } 
					}
				}	
			}
				}
		}
		
		character_event = {
			id = WCMSC.102
			days = 2
		}
		
	}
}

#Tell where is the Shadow Council
character_event = {
	id = WCMSC.102
	desc = EVTDESC_WCMSC_102
	picture = GFX_evt_shadow_council
	border = GFX_event_normal_frame_war

	is_triggered_only = yes

	option = {
		name = EVTOPTA_WCMSC.102
		character_event = {
			id = WCMSC.103
			days = 14
		}
	}
}

#Go to Blackrock Spire
character_event = {
	id = WCMSC.103
	desc = EVTDESC_WCMSC_103
	picture = GFX_evt_blackrock_mountain
	border = GFX_event_normal_frame_war

	is_triggered_only = yes

	option = {
		name = EVTOPTA_WCMSC.103
		tooltip_info = brave
		#LOK'TAR OGAR
		prestige = 20
		trigger = {
			trait = brave
		}
		narrative_event = {
			id = WCMSC.104
			days = 2
		}
	}
	
	option = {
		name = EVTOPTB_WCMSC.103
		#Launch assault
	}
}

#Massacre all - Lok'Tar Ogar
narrative_event = {
	id = WCMSC.104
	title = EVTTITLE_WCMSC_104
	desc = EVTDESC_WCMSC_104
	picture = GFX_evt_orc_on_fire
	border = GFX_event_narrative_frame_war

	is_triggered_only = yes
	
	trigger = {
		has_landed_title = e_horde
	}

	option = {
		name = EVTOPTA_WCMSC.104
		#LOK'TAR OGAR
		any_realm_character = {
			limit = {
				society_member_of = shadow_council
				trait = in_hiding
				NOT =  { has_character_flag = is_guldan }
				NOT =  { has_character_flag = is_chogall }
			}
			random_list = {
				80 = {
					death = {
						death_reason = death_massacred
						killer = FROM
					}
				}
				15 = {
					add_trait = wounded
				}
				5 = {
					#Nothing
				}
			}
		}
		narrative_event = {
			id = WCMSC.106
		}
	}
	
	option = {
		name = EVTOPTB_WCMSC.104
		trigger = {
			society_member_of = shadow_council
			trait = in_hiding
		}
	}
}

#Massacre all - Launch attack
narrative_event = {
	id = WCMSC.105
	title = EVTTITLE_WCMSC_105
	desc = EVTDESC_WCMSC_105
	picture = GFX_evt_orcish_horde
	border = GFX_event_narrative_frame_war

	is_triggered_only = yes

	option = {
		name = EVTOPTA_WCMSC.105
	}
}

#Cho'gall
narrative_event = {
	id = WCMSC.106
	title = EVTTITLE_WCMSC_106
	desc = EVTDESC_WCMSC_106
	picture = GFX_evt_orcish_horde
	border = GFX_event_narrative_frame_war

	is_triggered_only = yes

	option = {
		name = EVTOPTA_WCMSC.106
		trigger = { has_landed_title = e_horde }
		#wait response of cho'gall
	}
	
	option = {
		name = EVTOPTB_WCMSC.106
		trigger = { has_character_flag = is_chogall }
		#Reddition
		narrative_event = {
			id = WCMSC.107
		}
	}
	
	option = {
		name = EVTOPTC_WCMSC.106
		trigger = { has_character_flag = is_chogall }
		#Fight to the death
		random_list = {
			80 = {
				death = {
					death_reason = death_duel
					killer = FROM
				}
			}
			15 = {
				add_trait = severely_injured
			}
			5 = {
				add_trait = wounded
			}
		}
	}
	
	option = {
		name = EVTOPTD_WCMSC.106
		trigger = { has_character_flag = is_chogall }
		#Suicide
		death = {
			death_reason = death_suicide
		}
	}
}

#Cho'gall surrender
character_event = {
	id = WCMSC.107
	title = EVTTITLE_WCMSC_107
	desc = EVTDESC_WCMSC_107
	picture = GFX_evt_orcish_horde
	border = GFX_event_normal_frame_war

	is_triggered_only = yes

	option = {
		name = EVTOPTA_WCMSC.107
		#Accept reddition
		c_52000 = {
			remove_trait = in_hiding
		}
	}
	option = {
		name = EVTOPTA_WCMSC.107
		#Jail
		c_52000 = {
			imprison = FROM
		}
	}
	option = {
		name = EVTOPTA_WCMSC.107
		#Execution
		c_52000 = {
			death = {
				death_reason = death_execution
				killer = FROM
			}
		}
	}
}

#Response of Horde for Cho'gall

#Gul'dan

#Massacre of the Shadow Council