random_buy_artifact_effect = {
	random_list = {
		125 = { #success
			custom_tooltip = {
				text = artifact_up_success_tooltip
				character_event = { id = WCAE.100 days = 20 random = 10 }
			}
			artifact_buy_success_score = yes
		}
		10 = { #failure
			custom_tooltip = {
				text = artifact_up_failure_tooltip
				character_event = { id = WCAE.101 days = 30 random = 20 }
			}
			artifact_buy_failure_score = yes
		}
		5 = { #crit fail
			custom_tooltip = {
				text = artifact_up_critical_failure_tooltip
				set_character_flag = bought_artifact_is_fake
				character_event = { id = WCAE.101 days = 40 random = 30 }
			}
			artifact_buy_critical_failure_score = yes
		}
	}
}

create_artifact_craftsman_effect = {
	create_random_steward = {
		female = no
		dynasty = none
		random_traits = yes
		historical = yes
		flag = race_delay_flag
	}

	new_character = {

		#Type
		ROOT = {
			trigger_switch = {
				on_trigger = has_character_flag
				bought_artifact_is_fake	= { new_character = { set_character_flag = craftsman_is_fake				}	}
				bought_from_blacksmith	= { new_character = { set_character_flag = craftsman_is_blacksmith			}	}
				bought_from_tailor		= { new_character = { set_character_flag = craftsman_is_tailor				}	}
				bought_from_enchanter	= { new_character = { set_character_flag = craftsman_is_enchanter			}	}
				bought_from_alchemist	= { new_character = { set_character_flag = craftsman_is_alchemist			}	}
				bought_from_jeweler		= { new_character = { set_character_flag = craftsman_is_jeweler				}	}
			}
		}
		if = {
			limit = {
				has_character_flag = craftsman_is_fake
			}
			random = {
				chance = 25

				add_trait = deceitful
			}
			random_list = {
				10 = { change_intrigue = 1 }
				25 = { change_intrigue = 3 }
				50 = { change_intrigue = 5 }
				10 = { change_intrigue = 8 }
				5 = { change_intrigue = 10 }
			}
		}

		#Stats
		health = 3

		random = { # Stewardship
			chance = 25
			artisan_craftsmen_bloodline_increase_score = yes

			random_list = {
				25 = { change_stewardship = 1 }
				50 = { change_stewardship = 3 }
				25 = { change_stewardship = 5 }
				10 = {
					change_stewardship = 8
					artisan_craftsmen_bloodline_increase_score = yes
				}
				5 = {
					change_stewardship = 10
					artisan_craftsmen_bloodline_increase_score = yes
				}
			}
		}

		random = { # Education
			chance = 10
			modifier = {
				factor = 2
				trait = indulgent_wastrel
			}
			artisan_craftsmen_bloodline_increase_score = yes
			upgrade_education_effect = yes
		}

		#Personality
		random = {
			chance = 10
			artisan_craftsmen_bloodline_increase_score = yes

			add_trait = diligent
		}

		# Race
		set_prev_gfx_effect = yes
		character_event = { id = WCRAC.10 }

		# Age
		if = {
			limit = {
				immortal = yes
			}

			random_list = {
				5 = { add_age = 40 }
				5 = { add_age = 50 }
				5 = { add_age = 60 }
				5 = { add_age = 70 }
				5 = { add_age = 80 }
				5 = { add_age = 90 }
				5 = { add_age = 100 }
			}
		}

		set_character_flag = ai_flag_refuse_marriage
		set_character_flag = ai_flag_refuse_concubinage
		set_character_flag = cannot_marry
		add_character_modifier = {
			modifier = will_not_marry
			duration = -1
		}
		add_trait = cannot_marry
		set_character_flag = no_court_invites
	}
}

artifact_random_up_effect = {
	wealth = local_third_party_score
	random_list = {
		80 = { #success
			custom_tooltip = {
				text = artifact_up_success_tooltip
				character_event = { id = WCAE.3 }
			}
			artifact_up_success_score = yes
		}
		10 = { # minor failure
			custom_tooltip = {
				text = artifact_up_failure_minor_tooltip
				character_event = { id = WCAE.4 }
			}
			artifact_up_failure_score = yes
		}
		5 = { #failure
			custom_tooltip = {
				text = artifact_up_failure_tooltip
				character_event = { id = WCAE.5 }
			}
			artifact_up_failure_score = yes
		}
		5 = { #critical failure
			custom_tooltip = {
				text = artifact_up_critical_failure_tooltip
				character_event = { id = WCAE.6 }
			}
			artifact_up_critical_failure_score = yes
		}
	}
}