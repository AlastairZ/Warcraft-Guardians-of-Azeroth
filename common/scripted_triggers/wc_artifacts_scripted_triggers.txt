char_can_buy_artifacts_no_flag_potential_trigger = {
	evil_government_trigger = no
	is_nomadic = no
	NOT = { government = tribal_government }
	is_untouchable_trigger = no
	is_alive = yes
}

char_can_buy_artifacts_no_flag_allow_trigger = {
	is_adult = yes
	is_incapable = no
	prisoner = no
	is_inaccessible_trigger = no
}

char_can_buy_artifacts_no_flag_trigger = {
	char_can_buy_artifacts_no_flag_potential_trigger = yes
	char_can_buy_artifacts_no_flag_allow_trigger = yes
}

char_can_buy_artifacts_potential_trigger = {
	char_can_buy_artifacts_no_flag_potential_trigger = yes
	has_character_flag = market_open
}

char_can_buy_artifacts_allow_nocd_trigger = {
	char_can_buy_artifacts_no_flag_allow_trigger = yes
	custom_tooltip = {
		text = text_can_upgrade_artifact_rn
		NOT = { has_character_flag = bought_thing_recently }
	}
}

char_can_buy_artifacts_allow_trigger = {
	char_can_buy_artifacts_allow_nocd_trigger = yes
	custom_tooltip = {
		text = employ_artifact_craftsman_cd_tt
		NOT = { has_character_modifier = employed_artifact_craftsman_recently }
	}
}

no_equipped_twohanded_trigger = {
	custom_tooltip = { #Can't equip onehanded weapon if already equipped twohanded
		text = can_equip_onehanded_tooltip
		NOT = {
			any_artifact = {
				has_artifact_flag = twohanded
				is_artifact_equipped = yes
			}
		}
	}
}

no_onehanded_looping_trigger = {
	NOR = {
		AND = { # Prevents endless AI changing artifacts loop
			#ai = yes
			FROM = { is_artifact_equipped = no }
			any_artifact = {
				has_artifact_flag = onehanded
				is_artifact_equipped = yes
				count = 1
			}
		}
		AND = { #Can't equip two onehanded weapon
			FROM = { is_artifact_equipped = yes }
			any_artifact = {
				has_artifact_flag = onehanded
				is_artifact_equipped = yes
				count = 2
			}
		}
	}
}

can_equip_onehanded_trigger = { # any weapon but daggers

	no_equipped_twohanded_trigger = yes

	custom_tooltip = { #Can't equip two onehanded weapon
		text = can_equip_more_onehanded_tooltip
		trigger_if = {
			limit = {
				OR = {
					NOR = {
						trait = class_warrior_5
						trait = class_warrior_6
						trait = class_warrior_7
						trait = class_warrior_8
						trait = class_warrior_9
						trait = class_warrior_10
					}
					trait = one_handed
				}
			}

			no_onehanded_looping_trigger = yes

		}
	}
}

can_equip_dagger_trigger = { # For rogue daggers

	no_equipped_twohanded_trigger = yes

	custom_tooltip = { #Can't equip two onehanded weapon
		text = can_equip_more_onehanded_tooltip
		trigger_if = {
			limit = {
				OR = {
					NOR = {
						trait = class_rogue_5
						trait = class_rogue_6
						trait = class_rogue_7
						trait = class_rogue_8
						trait = class_rogue_9
						trait = class_rogue_10
					}
					trait = one_handed
				}
			}

			no_onehanded_looping_trigger = yes
		}
	}
}

can_equip_twohanded_trigger = {
	custom_tooltip = { #Can't equip twohanded weapon if already equipped onehanded
		text = can_equip_twohanded_tooltip
		NOT = {
			any_artifact = {
				has_artifact_flag = onehanded
				is_artifact_equipped = yes
			}
		}
	}
	custom_tooltip = { #Can't equip twohanded weapon if already equipped twohanded
		text = can_equip_more_twohanded_tooltip
		NOR = {
			AND = { # Prevents endless AI changing artifacts loop
				#ai = yes
				FROM = { is_artifact_equipped = no }
				any_artifact = {
					has_artifact_flag = twohanded
					is_artifact_equipped = yes
					count = 1
				}
			}
			AND = { #Can't equip two twohanded weapons
				FROM = { is_artifact_equipped = yes }
				any_artifact = {
					has_artifact_flag = twohanded
					is_artifact_equipped = yes
					count = 2
				}
			}
		}
	}
}

can_equip_two_hats_trigger = {
	custom_tooltip = { #Can't equip two hats if already equipped one
		text = can_equip_two_hats_tooltip
		trigger_if = {
			limit = {
				NOT = { trait = twoheaded }
				any_artifact = { # Game will checks only those mono-heads who have hats
					has_artifact_flag = head
				}
			}

			NOR = {
				AND = { # Prevents endless AI changing artifacts loop
					#ai = yes
					FROM = { is_artifact_equipped = no }
					any_artifact = {
						has_artifact_flag = head
						is_artifact_equipped = yes
						count = 1
					}
				}
				AND = { #Can't equip two hats if one headed
					FROM = { is_artifact_equipped = yes }
					any_artifact = {
						has_artifact_flag = head
						is_artifact_equipped = yes
						count = 2
					}
				}
			}
		}
	}
}

can_equip_rings_trigger = {
	custom_tooltip = {
		text = can_equip_more_rings_tooltip
		trigger_if = {
			limit = {
				trait = one_handed
			}

			NOR = {
				AND = { # Prevents endless AI changing artifacts loop
					#ai = yes
					FROM = { is_artifact_equipped = no }
					any_artifact = {
						has_artifact_flag = ring
						is_artifact_equipped = yes
						count = 1
					}
				}
				AND = { #Can't equip two rings if one handed
					FROM = { is_artifact_equipped = yes }
					any_artifact = {
						has_artifact_flag = ring
						is_artifact_equipped = yes
						count = 2
					}
				}
			}
		}
	}
}