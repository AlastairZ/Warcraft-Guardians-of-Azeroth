char_can_buy_artifacts = {
	AND = {
		evil_government_trigger = no
		is_nomadic = no
		NOT = { government = tribal_government }
		is_untouchable_trigger = no
	}
}

can_equip_onehanded_trigger = {
	custom_tooltip = { #Can't equip onehanded weapon if already equipped twohanded
		text = can_equip_onehanded_tooltip
		trigger_if = {
			limit = {
				AND = {
					any_artifact = {
						has_artifact_flag = twohanded
					}
					any_artifact = {
						has_artifact_flag = onehanded
					}
				}
			}
			NOT = {
				any_artifact = {
					has_artifact_flag = twohanded
					is_artifact_equipped = yes
				}
			}
		}
	}
	custom_tooltip = { #Can't equip two onehanded weapon if one handed
		text = can_equip_more_onehanded_tooltip
		trigger_if = {
			limit = {
				trait = one_handed
			}

			NOR = {
				AND = { # Prevents endless AI changing artifacts loop
					#ai = yes
					OR = {
						FROM = {
							AND = {
								has_artifact_flag = onehanded
								is_artifact_equipped = no
								is_artifact_active = yes
							}
						}
						FROM = {
							AND = {
								has_artifact_flag = onehanded
								is_artifact_equipped = no
								is_artifact_active = no
							}
						}
					}
					any_artifact = {
						has_artifact_flag = onehanded
						is_artifact_equipped = yes
						count = 1
					}
				}
				AND = { #Can't equip two onehanded weapon if one handed
					FROM = {
						AND = {
							has_artifact_flag = onehanded
							is_artifact_equipped = yes
						}
					}
					any_artifact = {
						has_artifact_flag = onehanded
						is_artifact_equipped = yes
						count = 2
					}
				}
			}
		}
	}
}

can_equip_twohanded_trigger = {
	custom_tooltip = { #Can't equip twohanded weapon if already equipped onehanded
		text = can_equip_twohanded_tooltip
		trigger_if = {
			limit = {
				AND = {
					any_artifact = {
						has_artifact_flag = twohanded
					}
					any_artifact = {
						has_artifact_flag = onehanded
					}
				}
			}
			NOT = {
				any_artifact = {
					has_artifact_flag = onehanded
					is_artifact_equipped = yes
				}
			}
		}
	}
	custom_tooltip = { #Can't equip twohanded weapon if already equipped twohanded
		text = can_equip_more_twohanded_tooltip
		NOR = {
			AND = { # Prevents endless AI changing artifacts loop
				#ai = yes
				OR = {
					FROM = {
						AND = {
							has_artifact_flag = twohanded
							is_artifact_equipped = no
							is_artifact_active = yes
						}
					}
					FROM = {
						AND = {
							has_artifact_flag = twohanded
							is_artifact_equipped = no
							is_artifact_active = no
						}
					}
				}
				any_artifact = {
					has_artifact_flag = twohanded
					is_artifact_equipped = yes
					count = 1
				}
			}
			AND = { #Can't equip two twohanded weapons
				FROM = {
					AND = {
						has_artifact_flag = twohanded
						is_artifact_equipped = yes
					}
				}
				any_artifact = {
					has_artifact_flag = twohanded
					is_artifact_equipped = yes
					count = 2
				}
			}
		}
	}
}

can_equip_two_hats_trigger = {
	custom_tooltip = { #Can't equip two hats if already equipped one
		text = can_equip_two_hats_tooltip
		trigger_if = {
			limit = {
				NOT = { trait = twoheaded }
				any_artifact = { # Idk. Perhaps this will help improve performance? Game will checks only those mono-heads who have hats? Idk.
					has_artifact_flag = head
				}
			}

			NOR = {
				AND = { # Prevents endless AI changing artifacts loop
					#ai = yes
					OR = {
						FROM = {
							AND = {
								has_artifact_flag = head
								is_artifact_equipped = no
								is_artifact_active = yes
							}
						}
						FROM = {
							AND = {
								has_artifact_flag = head
								is_artifact_equipped = no
								is_artifact_active = no
							}
						}
					}
					any_artifact = {
						has_artifact_flag = head
						is_artifact_equipped = yes
						count = 1
					}
				}
				AND = { #Can't equip two hats if one headed
					FROM = {
						AND = {
							has_artifact_flag = head
							is_artifact_equipped = yes
						}
					}
					any_artifact = {
						has_artifact_flag = head
						is_artifact_equipped = yes
						count = 2
					}
				}
			}
		}
	}
}

can_equip_rings_trigger = {
	custom_tooltip = {
		text = can_equip_more_rings_tooltip
		trigger_if = {
			limit = {
				trait = one_handed
			}

			NOR = {
				AND = { # Prevents endless AI changing artifacts loop
					#ai = yes
					OR = {
						FROM = {
							AND = {
								has_artifact_flag = ring
								is_artifact_equipped = no
								is_artifact_active = yes
							}
						}
						FROM = {
							AND = {
								has_artifact_flag = ring
								is_artifact_equipped = no
								is_artifact_active = no
							}
						}
					}
					any_artifact = {
						has_artifact_flag = ring
						is_artifact_equipped = yes
						count = 1
					}
				}
				AND = { #Can't equip two rings if one handed
					FROM = {
						AND = {
							has_artifact_flag = ring
							is_artifact_equipped = yes
						}
					}
					any_artifact = {
						has_artifact_flag = ring
						is_artifact_equipped = yes
						count = 2
					}
				}
			}
		}
	}
}